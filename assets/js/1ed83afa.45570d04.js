(self.webpackChunksynapseml=self.webpackChunksynapseml||[]).push([[2037],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),u=d(n),m=o,h=u["".concat(s,".").concat(m)]||u[m]||c[m]||i;return n?a.createElement(h,l(l({ref:t},p),{},{components:n})):a.createElement(h,l({ref:t},p))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,l=new Array(i);l[0]=u;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r.mdxType="string"==typeof e?e:o,l[1]=r;for(var d=2;d<i;d++)l[d]=n[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},2491:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return r},contentTitle:function(){return s},metadata:function(){return d},toc:function(){return p},default:function(){return u}});var a=n(2122),o=n(9756),i=(n(7294),n(3905)),l=["components"],r={title:"Build System Commands",hide_title:!0,sidebar_label:"Build System Commands",description:"MMLSpark Development Setup"},s="SynapseML Development Setup",d={unversionedId:"reference/developer-readme",id:"reference/developer-readme",isDocsHomePage:!1,title:"Build System Commands",description:"MMLSpark Development Setup",source:"@site/docs/reference/developer-readme.md",sourceDirName:"reference",slug:"/reference/developer-readme",permalink:"/SynapseML/docs/next/reference/developer-readme",version:"current",frontMatter:{title:"Build System Commands",hide_title:!0,sidebar_label:"Build System Commands",description:"MMLSpark Development Setup"},sidebar:"docs",previous:{title:"Vowpal Wabbit",permalink:"/SynapseML/docs/next/documentation/estimators/estimators_vw"},next:{title:"Contributing Guide",permalink:"/SynapseML/docs/next/reference/contributing_guide"}},p=[{value:"Scala build commands",id:"scala-build-commands",children:[{value:"<code>compile</code>, <code>test:compile</code> and <code>it:compile</code>",id:"compile-testcompile-and-itcompile",children:[]},{value:"<code>test</code>",id:"test",children:[]},{value:"<code>scalastyle</code>",id:"scalastyle",children:[]},{value:"<code>unidoc</code>",id:"unidoc",children:[]}]},{value:"Python Commands",id:"python-commands",children:[{value:"<code>createCondaEnv</code>",id:"createcondaenv",children:[]},{value:"<code>cleanCondaEnv</code>",id:"cleancondaenv",children:[]},{value:"<code>packagePython</code>",id:"packagepython",children:[]},{value:"<code>generatePythonDoc</code>",id:"generatepythondoc",children:[]},{value:"<code>installPipPackage</code>",id:"installpippackage",children:[]},{value:"<code>testPython</code>",id:"testpython",children:[]}]},{value:"Environment + Publishing Commands",id:"environment--publishing-commands",children:[{value:"<code>getDatasets</code>",id:"getdatasets",children:[]},{value:"<code>setup</code>",id:"setup",children:[]},{value:"<code>package</code>",id:"package",children:[]},{value:"<code>publishBlob</code>",id:"publishblob",children:[]},{value:"<code>publishLocal</code>",id:"publishlocal",children:[]},{value:"<code>publishDocs</code>",id:"publishdocs",children:[]},{value:"<code>publishSigned</code>",id:"publishsigned",children:[]},{value:"<code>sonatypeRelease</code>",id:"sonatyperelease",children:[]}]}],c={toc:p};function u(e){var t=e.components,n=(0,o.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"synapseml-development-setup"},"SynapseML Development Setup"),(0,i.kt)("p",null,"1) ",(0,i.kt)("a",{parentName:"p",href:"https://www.scala-sbt.org/1.x/docs/Setup.html"},"Install SBT")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- Make sure to download JDK 11 if you don't have it\n")),(0,i.kt)("p",null,"3) Fork the repository on github"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- This is required if you would like to make PRs. If you choose the fork option, replace the clone link below with that of your fork.\n")),(0,i.kt)("p",null,"2) Git Clone your fork, or the repo directly"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- `git clone https://github.com/Microsoft/SynapseML.git`\n- NOTE: If you would like to contribute to synapseml regularly, add your fork as a remote named ``origin`` and Microsoft/SynapseML as a remote named ``upstream``\n")),(0,i.kt)("p",null,"3) Run sbt to compile and grab datasets"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- `cd synapseml`\n- `sbt setup`\n")),(0,i.kt)("p",null,"4) ",(0,i.kt)("a",{parentName:"p",href:"https://www.jetbrains.com/idea/download"},"Install IntelliJ")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- Install Scala plugins during install\n")),(0,i.kt)("p",null,"5) Configure IntelliJ"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- **OPEN** the synapseml directory\n- If the project does not automatically import,click on `build.sbt` and import project\n")),(0,i.kt)("h1",{id:"publishing-and-using-build-secrets"},"Publishing and Using Build Secrets"),(0,i.kt)("p",null,"To use secrets in the build you must be part of the synapsemlkeyvault\nand azure subscription. If you are MSFT internal would like to be\nadded please reach out ",(0,i.kt)("inlineCode",{parentName:"p"},"mmlspark-support@microsoft.com")),(0,i.kt)("h1",{id:"sbt-command-guide"},"SBT Command Guide"),(0,i.kt)("h2",{id:"scala-build-commands"},"Scala build commands"),(0,i.kt)("h3",{id:"compile-testcompile-and-itcompile"},(0,i.kt)("inlineCode",{parentName:"h3"},"compile"),", ",(0,i.kt)("inlineCode",{parentName:"h3"},"test:compile")," and ",(0,i.kt)("inlineCode",{parentName:"h3"},"it:compile")),(0,i.kt)("p",null,"Compiles the main, test, and integration test classes respectively"),(0,i.kt)("h3",{id:"test"},(0,i.kt)("inlineCode",{parentName:"h3"},"test")),(0,i.kt)("p",null,"Runs all synapsemltests"),(0,i.kt)("h3",{id:"scalastyle"},(0,i.kt)("inlineCode",{parentName:"h3"},"scalastyle")),(0,i.kt)("p",null,"Runs scalastyle check"),(0,i.kt)("h3",{id:"unidoc"},(0,i.kt)("inlineCode",{parentName:"h3"},"unidoc")),(0,i.kt)("p",null,"Generates documentation for scala sources"),(0,i.kt)("h2",{id:"python-commands"},"Python Commands"),(0,i.kt)("h3",{id:"createcondaenv"},(0,i.kt)("inlineCode",{parentName:"h3"},"createCondaEnv")),(0,i.kt)("p",null,"Creates a conda environment ",(0,i.kt)("inlineCode",{parentName:"p"},"synapseml")," from ",(0,i.kt)("inlineCode",{parentName:"p"},"environment.yaml")," if it does not already exist.\nThis env is used for python testing. ",(0,i.kt)("strong",{parentName:"p"},"Activate this env before using python build commands.")),(0,i.kt)("h3",{id:"cleancondaenv"},(0,i.kt)("inlineCode",{parentName:"h3"},"cleanCondaEnv")),(0,i.kt)("p",null,"Removes ",(0,i.kt)("inlineCode",{parentName:"p"},"synapseml")," conda env"),(0,i.kt)("h3",{id:"packagepython"},(0,i.kt)("inlineCode",{parentName:"h3"},"packagePython")),(0,i.kt)("p",null,"Compiles scala, runs python generation scripts, and creates a wheel"),(0,i.kt)("h3",{id:"generatepythondoc"},(0,i.kt)("inlineCode",{parentName:"h3"},"generatePythonDoc")),(0,i.kt)("p",null,"Generates documentation for generated python code"),(0,i.kt)("h3",{id:"installpippackage"},(0,i.kt)("inlineCode",{parentName:"h3"},"installPipPackage")),(0,i.kt)("p",null,"Installs generated python wheel into existing env"),(0,i.kt)("h3",{id:"testpython"},(0,i.kt)("inlineCode",{parentName:"h3"},"testPython")),(0,i.kt)("p",null,"Generates and runs python tests"),(0,i.kt)("h2",{id:"environment--publishing-commands"},"Environment + Publishing Commands"),(0,i.kt)("h3",{id:"getdatasets"},(0,i.kt)("inlineCode",{parentName:"h3"},"getDatasets")),(0,i.kt)("p",null,"Downloads all datasets used in tests to target folder"),(0,i.kt)("h3",{id:"setup"},(0,i.kt)("inlineCode",{parentName:"h3"},"setup")),(0,i.kt)("p",null,"Combination of ",(0,i.kt)("inlineCode",{parentName:"p"},"compile"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"test:compile"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"it:compile"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"getDatasets")),(0,i.kt)("h3",{id:"package"},(0,i.kt)("inlineCode",{parentName:"h3"},"package")),(0,i.kt)("p",null,"Packages the library into a jar"),(0,i.kt)("h3",{id:"publishblob"},(0,i.kt)("inlineCode",{parentName:"h3"},"publishBlob")),(0,i.kt)("p",null,"Publishes Jar to synapseml's azure blob based maven repo. (Requires Keys)"),(0,i.kt)("h3",{id:"publishlocal"},(0,i.kt)("inlineCode",{parentName:"h3"},"publishLocal")),(0,i.kt)("p",null,"Publishes library to local maven repo"),(0,i.kt)("h3",{id:"publishdocs"},(0,i.kt)("inlineCode",{parentName:"h3"},"publishDocs")),(0,i.kt)("p",null,"Publishes scala and python doc to synapseml's build azure storage account. (Requires Keys)"),(0,i.kt)("h3",{id:"publishsigned"},(0,i.kt)("inlineCode",{parentName:"h3"},"publishSigned")),(0,i.kt)("p",null,"Publishes the library to sonatype staging repo"),(0,i.kt)("h3",{id:"sonatyperelease"},(0,i.kt)("inlineCode",{parentName:"h3"},"sonatypeRelease")),(0,i.kt)("p",null,"Promotes the published sonatype artifact"))}u.isMDXComponent=!0}}]);